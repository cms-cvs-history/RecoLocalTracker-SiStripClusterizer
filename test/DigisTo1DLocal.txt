process PROD = {

	source = PoolInputService { 
	       string fileName = "DigisToDigis.root"
	       int32 MaxEvents = -1
	}

        module out = PoolOutputModule {
               untracked string fileName = 'ClustersTo1DLocal.root'
        }

	es_source = XMLIdealGeometryESSource {
		string GeometryConfiguration="allConfiguration.xml"
	}
        
	es_module = TrackerGeometricDetESModule {
	}
        
	es_module = TrackerDigiGeometryESModule {
	}

        module ThreeThresholdClusterizer =  SiStripClusterizer {
                untracked int32 VerbosityLevel = 1
                string DigiProducer = "StripDigiConverter"
                string ClusterMode = "ThreeThresholdClusterizer"
                double ChannelThreshold = 2.0
                double SeedThreshold = 3.0
                double ClusterThreshold = 2.0
        }

	module LocalMeasurementConverter =  SiStrip1DLocalMeasurementConverter {
                untracked int32 VerbosityLevel = 1
		string ClusterProducer = "ThreeThresholdClusterizer"
	}

	path p = {ThreeThresholdClusterizer, LocalMeasurementConverter, out}
}
