process PEDESTALS = {

# MessageLogger
#include "FWCore/MessageService/data/MessageLogger.cfi"
service = MessageLogger {
	untracked vstring destinations = { "insert_logpath/pedetals_insert_pedRuns.log" }
	untracked PSet pedestals_insert_pedRuns.log = { string threshold = "INFO"    
							      #PSet default = { int32 limit = -1 bool noLineBreaks = false } 
							    }
}

#service = Timing { }


#read cabling from ascii file
##186 es_source = SiStripFedCablingFromXml {
##186	string Label="Fed1"
##186	string XmlParsedFile="insert_fedconnection_description"
##186 }

#read cabling from db
##p5  include "OnlineDB/SiStripESSources/data/BuildFedCablingUsingConfigDb.cfi"
##p5	  replace BuildFedCablingUsingConfigDb.UsingDb = true
##p5	  replace BuildFedCablingUsingConfigDb.User = "cms_mtcc_sitracker"
##p5	  replace BuildFedCablingUsingConfigDb.Passwd = "cms_mtcc"
##p5	  replace BuildFedCablingUsingConfigDb.Path = "omds"
##p5	  replace BuildFedCablingUsingConfigDb.Partition = "MTCC_TEST4"
##p5   

service = PoolDBOutputService{

	          string connect="sqlite_file:insert_SiStripPedNoisesDB" 
	untracked string catalog="file:insert_SiStripPedNoisesCatalog" 
	          string timetype = "runnumber"    
        untracked bool   loadBlobStreamer = true
  
        untracked uint32 authenticationMethod = 0
        untracked uint32 messagelevel = 3

 	VPSet toPut={
	    	{untracked string containerName = "SiStripPedestals"
             	string tag ="SiStripPedestals_v1"},
            	{untracked string containerName = "SiStripNoises"
             	string tag ="SiStripNoises_v1"}
       }	
}
	

#input source
##LocalDAQ  include "IORawData/SiStripInputSources/data/TBRUInputSource.cfi"
##LocalDAQ 	  replace TBRUInputSource.fileNames = { insert_input_filenames }
##LocalDAQ	  replace TBRUInputSource.maxEvents =-1 //@@ all events
##LocalDAQ	  replace TBRUInputSource.TriggerFedId = 53

##GlobalDAQ  source = PoolSource
##GlobalDAQ  {
##GlobalDAQ    untracked vstring fileNames = { insert_input_filenames }
##GlobalDAQ    untracked int32 maxEvents = -1
##GlobalDAQ    untracked uint32 debugVebosity = 1
##GlobalDAQ    untracked bool   debugFlag     = true
##GlobalDAQ  }


module RawToDigi = SiStripRawToDigiModule 
{
	string InputModuleLabel = "source"
	untracked int32 AppendedBytes = 0
       	untracked int32 FedBufferDumpFreq = 0
       	untracked bool  UseFedKey = true #@@ also false seems to be ok
       	untracked int32 TriggerFedId = 53
}

service = DaqMonitorROOTBackEnd {}

#Pedestals Calculator Module
include "DQM/SiStripCommissioningSources/test/stubs/CommissioningSourceMtcc.cfi"


path p = { RawToDigi , PedestalCalculator}
}

