process TEST = {

service = MessageLogger {
	untracked vstring destinations = { "insert_logpath/insert_outputfilename.log"}
	untracked PSet insert_outputfilename.log = { string threshold = "INFO"    
							   #PSet default = { int32 limit = -1 bool noLineBreaks = false } 
							}
}

#service = Tracer {}

#Geometry
include "Geometry/CMSCommonData/data/cmsMTCCGeometryXML.cfi"

es_module = TrackerGeometricDetESModule {}
es_module = TrackerDigiGeometryESModule {}

#Magnetic Field
#
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

es_source = PoolDBESSource { 
              VPSet toGet = {
                { string record = "SiStripPedestalsRcd"
                  string tag = "SiStripPedestals_v1"
                }
               ,{ string record = "SiStripNoisesRcd"
                  string tag = "SiStripNoises_v1"
                } 
              }
              bool loadAll = true
              string connect = "sqlite_file:insert_SiStripPedNoisesDB"
	      untracked string catalog = "file:insert_SiStripPedNoisesCatalog" 
              string timetype = "runnumber" 
              untracked bool loadBlobStreamer = true
    
	      untracked uint32 authenticationMethod = 0
              untracked uint32 messagelevel = 3
            }

source = PoolRASource { 
	untracked vstring fileNames = { insert_input_filenames }
	untracked int32 maxEvents = -1 //@@ all events
}


module Validate =  TestCluster {
        untracked int32 VerbosityLevel = 1

	untracked string userEnv   = "me"
	untracked string passwdEnv = "me"
           bool UseCalibDataFromDB = true

        double ElectronPerAdc      = 313.0 
	double EquivalentNoiseCharge300um = 2160.
	double BadStripProbability = 0.0
	uint32  PedestalValue	   = 30
	double  LowThValue         =  2
	double  HighThValue        =  5

	string fileName = "insert_outputpath/insert_outputfilename.root" 

	PSet TH1ClusterSignal = {
			 	int32 Nbinx = 100	
				double xmin =   0.
				double xmax = 300.
				}	

          PSet TH1ClusterStoN = {
			 	int32 Nbinx = 100	
				double xmin =   0.
				double xmax = 100.
				}	

    PSet TH1PedestalsProfile = {
			 	int32 Nbinx = 768	
				double xmin =  -0.5
				double xmax = 767.5
				}	

    PSet TH1NoisesProfile = {
			 	int32 Nbinx = 768	
				double xmin = -0.5
				double xmax = 767.5  
				}	

   PSet TH1BadStripNoiseProfile = {
			 	int32 Nbinx = 768	
				double xmin = -0.5
				double xmax = 767.5
				}	


   PSet TH1ClusterBarycenter = {
			 	int32 Nbinx = 768	
				double xmin = -0.5
				double xmax = 767.5
				}	


           PSet TH1Noises = {
			 	int32 Nbinx =  80	
				double xmin =   0.
				double xmax =  10.
				}	
}

module AsciiOutput = AsciiOutputModule {}

path p = { Validate }
endpath e = { AsciiOutput } 
}


