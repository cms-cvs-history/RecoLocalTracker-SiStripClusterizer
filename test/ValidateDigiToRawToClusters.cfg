process ValidateDigiToRawToClusters = {

    # message logger
    include "DQM/SiStripCommon/data/MessageLogger.cfi"

    # event setup
    include "CalibTracker/SiStripESProducers/data/SiStripFedCablingFakeESSource.cfi"
    include "Configuration/StandardSequences/data/Geometry.cff"
    include "Configuration/StandardSequences/data/MagneticField.cff"
    include "CalibTracker/Configuration/data/SiStrip_FakeConditions.cff"
    include "CalibTracker/SiStripConnectivity/data/SiStripRegionConnectivity.cfi"
    include "Alignment/CommonAlignmentProducer/data/FakeAlignmentSource.cfi"
    
    # empty source
    include "IORawData/SiStripInputSources/data/EmptySource.cff"
    replace maxEvents.input = 1
    
    # digi source
    include "EventFilter/SiStripRawToDigi/test/data/SiStripTrivialDigiSource.cfi"
    replace DigiSource.FedRawDataMode = false
    replace DigiSource.UseFedKey = false
    
    # digi-to-raw
    include "EventFilter/SiStripRawToDigi/data/SiStripDigiToRaw.cfi"
    replace SiStripDigiToRaw.InputModuleLabel = "DigiSource"
    replace SiStripDigiToRaw.InputDigiLabel = ""
    replace SiStripDigiToRaw.FedReadoutMode = "ZERO_SUPPRESSED"
    replace SiStripDigiToRaw.UseFedKey = false

    # raw-to-digis    
    include "EventFilter/SiStripRawToDigi/data/SiStripDigis.cfi"
    replace siStripDigis.ProductLabel = "SiStripDigiToRaw"
    replace siStripDigis.UseFedKey = false

    # digis-to-clusters
    include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer.cfi"
    replace siStripClusters.DigiProducersList = 
    {{string DigiProducer = "siStripDigis" string DigiLabel = "ZeroSuppressed"}}

    # raw-to-clusters facility
    include "EventFilter/SiStripRawToDigi/data/SiStripRawToClusters.cfi"
    replace SiStripRawToClustersFacility.FedRawData = SiStripDigiToRaw
   
    # raw-to-clusters regions of interest module
    include "EventFilter/SiStripRawToDigi/data/SiStripRawToClustersRoI.cfi"

    # DetSetVector builder
    include "EventFilter/SiStripRawToDigi/test/data/SiStripClustersDSVBuilder.cfi"
    replace siStripClustersDSV.SiStripRefGetter = SiStripRoI

    # validation
    include "RecoLocalTracker/SiStripClusterizer/test/data/SiStripClusterValidator.cfi"
    replace ValidateSiStripClusters.Collection1 = siStripClusters
    replace ValidateSiStripClusters.Collection2 = siStripClustersDSV

    # path
    path p = {DigiSource, SiStripDigiToRaw, siStripDigis, siStripClusters, SiStripRawToClustersFacility, SiStripRoI , siStripClustersDSV, ValidateSiStripClusters}

}
