process Clusterizer = {

	source = PoolSource { 
	       untracked string fileName = "/tmp/giordano/DigisToDigis.root"
	       int32 MaxEvents = -1
	}

	es_source = PoolDBESSource { 
                      VPSet toGet = {
                        { string record = "SiStripNoisesRcd"
                          string tag = "SiStripNoises_v1"
                        } 
                      }
                      bool loadAll = true
                      string connect = "sqlite_file:/tmp/giordano/sistripnoises.db"
		      untracked string catalog = "file:/tmp/giordano/SiStripNoisesCatalog.xml" 
                      string timetype = "runnumber" 
                      untracked uint32 messagelevel = 0
                    }

        es_source = XMLIdealGeometryESSource {
			FileInPath GeometryConfiguration="Geometry/TrackerSimData/data/trackerSimConfiguration.xml" 
			string rootNodeName = ""
			}

        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerDigiGeometryESModule {}

        module out = PoolOutputModule {
              untracked string fileName = "DigisToClusters.root"
        }

	module ThreeThresholdClusterizer =  SiStripClusterizer {
		string DigiProducer        = "StripDigiConverter"

		string ClusterMode         = "ThreeThresholdClusterizer"
		double ChannelThreshold    = 2.0
		double SeedThreshold       = 3.0
		double ClusterThreshold    = 2.0
		 int32 MaxHolesInCluster   = 1	

	        double ElectronPerAdc      = 313.0 
 		double EquivalentNoiseCharge300um = 2160.
		double BadStripProbability = 0.002
		  bool UseNoiseBadStripFlagFromDB = false
	}

	path p = { ThreeThresholdClusterizer,out}
}
