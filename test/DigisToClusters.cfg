process Clusterizer = {

	source = PoolSource { 
	       string fileName = "DigisToDigis.root"
	       int32 MaxEvents = -1
	}

	es_source = PoolDBESSource { 
                      VPSet toGet = {
                        { string record = "SiStripPedestalsRcd"
                          string tag = "SiStripPedestals_v1"
                        } 
                      }
                      bool loadAll = true
                      string connect = "sqlite_file:/tmp/giordano/sistripnoises.db"
                      string timetype = "runnumber" 
                    }

        module out = PoolOutputModule {
              untracked string fileName = 'DigisToClusters.root'
        }

	module ThreeThresholdClusterizer =  SiStripClusterizer {
		string DigiProducer        = "StripDigiConverter"

		string ClusterMode         = "ThreeThresholdClusterizer"
		double ChannelThreshold    = 2.0
		double SeedThreshold       = 3.0
		double ClusterThreshold    = 2.0
		 int32 MaxHolesInCluster   = 1	

	        double ElectronPerAdc      = 313.0 
 		double EquivalentNoiseCharge300um = 2160.
		double BadStripProbability = 0.002
		  bool UseNoiseBadStripFlagFromDB = true
	}

	path p = { ThreeThresholdClusterizer,out}
}
